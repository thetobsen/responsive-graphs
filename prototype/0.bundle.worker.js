!function(e){var t={};function n(r){if(t[r])return t[r].exports;var f=t[r]={i:r,l:!1,exports:{}};return e[r].call(f.exports,f,f.exports,n),f.l=!0,f.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var f in e)n.d(r,f,function(t){return e[t]}.bind(null,f));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=22)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"common",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"red",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"pink",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"purple",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"deepPurple",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"indigo",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"blue",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"lightBlue",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"cyan",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"teal",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"green",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"lightGreen",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(t,"lime",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(t,"yellow",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(t,"amber",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"orange",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(t,"deepOrange",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(t,"brown",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(t,"grey",{enumerable:!0,get:function(){return A.default}}),Object.defineProperty(t,"blueGrey",{enumerable:!0,get:function(){return w.default}});var r=m(n(2)),f=m(n(3)),i=m(n(4)),o=m(n(5)),u=m(n(6)),a=m(n(7)),c=m(n(8)),l=m(n(9)),d=m(n(10)),s=m(n(11)),h=m(n(12)),v=m(n(13)),y=m(n(14)),b=m(n(15)),p=m(n(16)),_=m(n(17)),g=m(n(18)),x=m(n(19)),A=m(n(20)),w=m(n(21));function m(e){return e&&e.__esModule?e:{default:e}}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={black:"#000",white:"#fff"};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",A100:"#b388ff",A200:"#7c4dff",A400:"#651fff",A700:"#6200ea"};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",A100:"#84ffff",A200:"#18ffff",A400:"#00e5ff",A700:"#00b8d4"};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",A100:"#a7ffeb",A200:"#64ffda",A400:"#1de9b6",A700:"#00bfa5"};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",A100:"#ccff90",A200:"#b2ff59",A400:"#76ff03",A700:"#64dd17"};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",A100:"#f4ff81",A200:"#eeff41",A400:"#c6ff00",A700:"#aeea00"};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",A100:"#ffff8d",A200:"#ffff00",A400:"#ffea00",A700:"#ffd600"};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",A100:"#ffe57f",A200:"#ffd740",A400:"#ffc400",A700:"#ffab00"};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",A100:"#ff9e80",A200:"#ff6e40",A400:"#ff3d00",A700:"#dd2c00"};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723",A100:"#d7ccc8",A200:"#bcaaa4",A400:"#8d6e63",A700:"#5d4037"};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238",A100:"#cfd8dc",A200:"#b0bec5",A400:"#78909c",A700:"#455a64"};t.default=r},function(e,t,n){"use strict";n.r(t);var r={value:()=>{}};function f(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new i(r)}function i(e){this._=e}function o(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function u(e,t){for(var n,r=0,f=e.length;r<f;++r)if((n=e[r]).name===t)return n.value}function a(e,t,n){for(var f=0,i=e.length;f<i;++f)if(e[f].name===t){e[f]=r,e=e.slice(0,f).concat(e.slice(f+1));break}return null!=n&&e.push({name:t,value:n}),e}i.prototype=f.prototype={constructor:i,on:function(e,t){var n,r=this._,f=o(e+"",r),i=-1,c=f.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++i<c;)if(n=(e=f[i]).type)r[n]=a(r[n],e.name,t);else if(null==t)for(n in r)r[n]=a(r[n],e.name,null);return this}for(;++i<c;)if((n=(e=f[i]).type)&&(n=u(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new i(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,f=new Array(n),i=0;i<n;++i)f[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=0,n=(r=this._[e]).length;i<n;++i)r[i].value.apply(t,f)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],f=0,i=r.length;f<i;++f)r[f].value.apply(t,n)}};var c,l,d=f,s=0,h=0,v=0,y=0,b=0,p=0,_="object"==typeof performance&&performance.now?performance:Date,g="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function x(){return b||(g(A),b=_.now()+p)}function A(){b=0}function w(){this._call=this._time=this._next=null}function m(e,t,n){var r=new w;return r.restart(e,t,n),r}function M(){b=(y=_.now())+p,s=h=0;try{!function(){x(),++s;for(var e,t=c;t;)(e=b-t._time)>=0&&t._call.call(null,e),t=t._next;--s}()}finally{s=0,function(){var e,t,n=c,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:c=t);l=e,j(r)}(),b=0}}function O(){var e=_.now(),t=e-y;t>1e3&&(p-=t,y=e)}function j(e){s||(h&&(h=clearTimeout(h)),e-b>24?(e<1/0&&(h=setTimeout(M,e-_.now()-p)),v&&(v=clearInterval(v))):(v||(y=_.now(),v=setInterval(O,1e3)),s=1,g(M)))}w.prototype=m.prototype={constructor:w,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?x():+n)+(null==t?0:+t),this._next||l===this||(l?l._next=this:c=this,l=this),this._call=e,this._time=n,j()},stop:function(){this._call&&(this._call=null,this._time=1/0,j())}};function P(e){return e.x}function N(e){return e.y}var k=Math.PI*(3-Math.sqrt(5));function q(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var f,i,o,u,a,c,l,d,s,h=e._root,v={data:r},y=e._x0,b=e._y0,p=e._x1,_=e._y1;if(!h)return e._root=v,e;for(;h.length;)if((c=t>=(i=(y+p)/2))?y=i:p=i,(l=n>=(o=(b+_)/2))?b=o:_=o,f=h,!(h=h[d=l<<1|c]))return f[d]=v,e;if(u=+e._x.call(null,h.data),a=+e._y.call(null,h.data),t===u&&n===a)return v.next=h,f?f[d]=v:e._root=v,e;do{f=f?f[d]=new Array(4):e._root=new Array(4),(c=t>=(i=(y+p)/2))?y=i:p=i,(l=n>=(o=(b+_)/2))?b=o:_=o}while((d=l<<1|c)==(s=(a>=o)<<1|u>=i));return f[s]=h,f[d]=v,e}var z=function(e,t,n,r,f){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=f};function E(e){return e[0]}function T(e){return e[1]}function S(e,t,n){var r=new D(null==t?E:t,null==n?T:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function D(e,t,n,r,f,i){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=f,this._y1=i,this._root=void 0}function I(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var F=S.prototype=D.prototype;F.copy=function(){var e,t,n=new D(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=I(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var f=0;f<4;++f)(t=r.source[f])&&(t.length?e.push({source:t,target:r.target[f]=new Array(4)}):r.target[f]=I(t));return n},F.add=function(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return q(this.cover(t,n),t,n,e)},F.addAll=function(e){var t,n,r,f,i=e.length,o=new Array(i),u=new Array(i),a=1/0,c=1/0,l=-1/0,d=-1/0;for(n=0;n<i;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(f=+this._y.call(null,t))||(o[n]=r,u[n]=f,r<a&&(a=r),r>l&&(l=r),f<c&&(c=f),f>d&&(d=f));if(a>l||c>d)return this;for(this.cover(a,c).cover(l,d),n=0;n<i;++n)q(this,o[n],u[n],e[n]);return this},F.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,f=this._x1,i=this._y1;if(isNaN(n))f=(n=Math.floor(e))+1,i=(r=Math.floor(t))+1;else{for(var o,u,a=f-n||1,c=this._root;n>e||e>=f||r>t||t>=i;)switch(u=(t<r)<<1|e<n,(o=new Array(4))[u]=c,c=o,a*=2,u){case 0:f=n+a,i=r+a;break;case 1:n=f-a,i=r+a;break;case 2:f=n+a,r=i-a;break;case 3:n=f-a,r=i-a}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=f,this._y1=i,this},F.data=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e},F.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},F.find=function(e,t,n){var r,f,i,o,u,a,c,l=this._x0,d=this._y0,s=this._x1,h=this._y1,v=[],y=this._root;for(y&&v.push(new z(y,l,d,s,h)),null==n?n=1/0:(l=e-n,d=t-n,s=e+n,h=t+n,n*=n);a=v.pop();)if(!(!(y=a.node)||(f=a.x0)>s||(i=a.y0)>h||(o=a.x1)<l||(u=a.y1)<d))if(y.length){var b=(f+o)/2,p=(i+u)/2;v.push(new z(y[3],b,p,o,u),new z(y[2],f,p,b,u),new z(y[1],b,i,o,p),new z(y[0],f,i,b,p)),(c=(t>=p)<<1|e>=b)&&(a=v[v.length-1],v[v.length-1]=v[v.length-1-c],v[v.length-1-c]=a)}else{var _=e-+this._x.call(null,y.data),g=t-+this._y.call(null,y.data),x=_*_+g*g;if(x<n){var A=Math.sqrt(n=x);l=e-A,d=t-A,s=e+A,h=t+A,r=y.data}}return r},F.remove=function(e){if(isNaN(i=+this._x.call(null,e))||isNaN(o=+this._y.call(null,e)))return this;var t,n,r,f,i,o,u,a,c,l,d,s,h=this._root,v=this._x0,y=this._y0,b=this._x1,p=this._y1;if(!h)return this;if(h.length)for(;;){if((c=i>=(u=(v+b)/2))?v=u:b=u,(l=o>=(a=(y+p)/2))?y=a:p=a,t=h,!(h=h[d=l<<1|c]))return this;if(!h.length)break;(t[d+1&3]||t[d+2&3]||t[d+3&3])&&(n=t,s=d)}for(;h.data!==e;)if(r=h,!(h=h.next))return this;return(f=h.next)&&delete h.next,r?(f?r.next=f:delete r.next,this):t?(f?t[d]=f:delete t[d],(h=t[0]||t[1]||t[2]||t[3])&&h===(t[3]||t[2]||t[1]||t[0])&&!h.length&&(n?n[s]=h:this._root=h),this):(this._root=f,this)},F.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},F.root=function(){return this._root},F.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},F.visit=function(e){var t,n,r,f,i,o,u=[],a=this._root;for(a&&u.push(new z(a,this._x0,this._y0,this._x1,this._y1));t=u.pop();)if(!e(a=t.node,r=t.x0,f=t.y0,i=t.x1,o=t.y1)&&a.length){var c=(r+i)/2,l=(f+o)/2;(n=a[3])&&u.push(new z(n,c,l,i,o)),(n=a[2])&&u.push(new z(n,r,l,c,o)),(n=a[1])&&u.push(new z(n,c,f,i,l)),(n=a[0])&&u.push(new z(n,r,f,c,l))}return this},F.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new z(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var f=t.node;if(f.length){var i,o=t.x0,u=t.y0,a=t.x1,c=t.y1,l=(o+a)/2,d=(u+c)/2;(i=f[0])&&n.push(new z(i,o,u,l,d)),(i=f[1])&&n.push(new z(i,l,u,a,d)),(i=f[2])&&n.push(new z(i,o,d,l,c)),(i=f[3])&&n.push(new z(i,l,d,a,c))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},F.x=function(e){return arguments.length?(this._x=e,this):this._x},F.y=function(e){return arguments.length?(this._y=e,this):this._y};var G=function(e){return function(){return e}},B=function(e){return 1e-6*(e()-.5)};function C(e){return e.index}function H(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function J(e){return e.x+e.vx}function K(e){return e.y+e.vy}var L=n(0);const Q=4,R=15,U=5;L.purple[800],L.orange[800];onmessage=e=>{const{type:t,payload:n,properties:r,identifier:f}=e.data;if("force-layout"===t){var i;const{nodes:e,links:t}=n,o=((e,t)=>{var n,r;if(null===e)return()=>U;const f=null!==(n=null===(r=e.additional)||void 0===r?void 0:r.effective_range)&&void 0!==n?n:function(e,t){let n,r;if(void 0===t)for(const t of e)null!=t&&(void 0===n?t>=t&&(n=r=t):(n>t&&(n=t),r<t&&(r=t)));else{let f=-1;for(let i of e)null!=(i=t(i,++f,e))&&(void 0===n?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)))}return[n,r]}(t.nodes,t=>t[e.key]),i=(R-Q)/(f[1]-f[0]);return t=>Math.min(i*t[e.key]+Q,R)})(r.sizeAttr,n),u=null!==(i=function(e,t){let n;if(void 0===t)for(const t of e)null!=t&&(n<t||void 0===n&&t>=t)&&(n=t);else{let r=-1;for(let f of e)null!=(f=t(f,++r,e))&&(n<f||void 0===n&&f>=f)&&(n=f)}return n}(t,e=>e.weight))&&void 0!==i?i:1,a=function(e){var t,n=1,r=.001,f=1-Math.pow(r,1/300),i=0,o=.6,u=new Map,a=m(s),c=d("tick","end"),l=function(){let e=1;return()=>(e=(1664525*e+1013904223)%4294967296)/4294967296}();function s(){h(),c.call("tick",t),n<r&&(a.stop(),c.call("end",t))}function h(r){var a,c,l=e.length;void 0===r&&(r=1);for(var d=0;d<r;++d)for(n+=(i-n)*f,u.forEach((function(e){e(n)})),a=0;a<l;++a)null==(c=e[a]).fx?c.x+=c.vx*=o:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=o:(c.y=c.fy,c.vy=0);return t}function v(){for(var t,n=0,r=e.length;n<r;++n){if((t=e[n]).index=n,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),isNaN(t.x)||isNaN(t.y)){var f=10*Math.sqrt(.5+n),i=n*k;t.x=f*Math.cos(i),t.y=f*Math.sin(i)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function y(t){return t.initialize&&t.initialize(e,l),t}return null==e&&(e=[]),v(),t={tick:h,restart:function(){return a.restart(s),t},stop:function(){return a.stop(),t},nodes:function(n){return arguments.length?(e=n,v(),u.forEach(y),t):e},alpha:function(e){return arguments.length?(n=+e,t):n},alphaMin:function(e){return arguments.length?(r=+e,t):r},alphaDecay:function(e){return arguments.length?(f=+e,t):+f},alphaTarget:function(e){return arguments.length?(i=+e,t):i},velocityDecay:function(e){return arguments.length?(o=1-e,t):1-o},randomSource:function(e){return arguments.length?(l=e,u.forEach(y),t):l},force:function(e,n){return arguments.length>1?(null==n?u.delete(e):u.set(e,y(n)),t):u.get(e)},find:function(t,n,r){var f,i,o,u,a,c=0,l=e.length;for(null==r?r=1/0:r*=r,c=0;c<l;++c)(o=(f=t-(u=e[c]).x)*f+(i=n-u.y)*i)<r&&(a=u,r=o);return a},on:function(e,n){return arguments.length>1?(c.on(e,n),t):c.on(e)}}}(e).force("charge",function(){var e,t,n,r,f,i=G(-30),o=1,u=1/0,a=.81;function c(n){var f,i=e.length,o=S(e,P,N).visitAfter(d);for(r=n,f=0;f<i;++f)t=e[f],o.visit(s)}function l(){if(e){var t,n,r=e.length;for(f=new Array(r),t=0;t<r;++t)n=e[t],f[n.index]=+i(n,t,e)}}function d(e){var t,n,r,i,o,u=0,a=0;if(e.length){for(r=i=o=0;o<4;++o)(t=e[o])&&(n=Math.abs(t.value))&&(u+=t.value,a+=n,r+=n*t.x,i+=n*t.y);e.x=r/a,e.y=i/a}else{(t=e).x=t.data.x,t.y=t.data.y;do{u+=f[t.data.index]}while(t=t.next)}e.value=u}function s(e,i,c,l){if(!e.value)return!0;var d=e.x-t.x,s=e.y-t.y,h=l-i,v=d*d+s*s;if(h*h/a<v)return v<u&&(0===d&&(v+=(d=B(n))*d),0===s&&(v+=(s=B(n))*s),v<o&&(v=Math.sqrt(o*v)),t.vx+=d*e.value*r/v,t.vy+=s*e.value*r/v),!0;if(!(e.length||v>=u)){(e.data!==t||e.next)&&(0===d&&(v+=(d=B(n))*d),0===s&&(v+=(s=B(n))*s),v<o&&(v=Math.sqrt(o*v)));do{e.data!==t&&(h=f[e.data.index]*r/v,t.vx+=d*h,t.vy+=s*h)}while(e=e.next)}}return c.initialize=function(t,r){e=t,n=r,l()},c.strength=function(e){return arguments.length?(i="function"==typeof e?e:G(+e),l(),c):i},c.distanceMin=function(e){return arguments.length?(o=e*e,c):Math.sqrt(o)},c.distanceMax=function(e){return arguments.length?(u=e*e,c):Math.sqrt(u)},c.theta=function(e){return arguments.length?(a=e*e,c):Math.sqrt(a)},c}().strength(-500)).force("link",function(e){var t,n,r,f,i,o,u=C,a=function(e){return 1/Math.min(f[e.source.index],f[e.target.index])},c=G(30),l=1;function d(r){for(var f=0,u=e.length;f<l;++f)for(var a,c,d,s,h,v,y,b=0;b<u;++b)c=(a=e[b]).source,s=(d=a.target).x+d.vx-c.x-c.vx||B(o),h=d.y+d.vy-c.y-c.vy||B(o),s*=v=((v=Math.sqrt(s*s+h*h))-n[b])/v*r*t[b],h*=v,d.vx-=s*(y=i[b]),d.vy-=h*y,c.vx+=s*(y=1-y),c.vy+=h*y}function s(){if(r){var o,a,c=r.length,l=e.length,d=new Map(r.map((e,t)=>[u(e,t,r),e]));for(o=0,f=new Array(c);o<l;++o)(a=e[o]).index=o,"object"!=typeof a.source&&(a.source=H(d,a.source)),"object"!=typeof a.target&&(a.target=H(d,a.target)),f[a.source.index]=(f[a.source.index]||0)+1,f[a.target.index]=(f[a.target.index]||0)+1;for(o=0,i=new Array(l);o<l;++o)a=e[o],i[o]=f[a.source.index]/(f[a.source.index]+f[a.target.index]);t=new Array(l),h(),n=new Array(l),v()}}function h(){if(r)for(var n=0,f=e.length;n<f;++n)t[n]=+a(e[n],n,e)}function v(){if(r)for(var t=0,f=e.length;t<f;++t)n[t]=+c(e[t],t,e)}return null==e&&(e=[]),d.initialize=function(e,t){r=e,o=t,s()},d.links=function(t){return arguments.length?(e=t,s(),d):e},d.id=function(e){return arguments.length?(u=e,d):u},d.iterations=function(e){return arguments.length?(l=+e,d):l},d.strength=function(e){return arguments.length?(a="function"==typeof e?e:G(+e),h(),d):a},d.distance=function(e){return arguments.length?(c="function"==typeof e?e:G(+e),v(),d):c},d}(t).id(e=>e[f]).distance(300).strength(e=>{var t;return(null!==(t=e.weight)&&void 0!==t?t:1)/u})).force("center",function(e,t){var n,r=1;function f(){var f,i,o=n.length,u=0,a=0;for(f=0;f<o;++f)u+=(i=n[f]).x,a+=i.y;for(u=(u/o-e)*r,a=(a/o-t)*r,f=0;f<o;++f)(i=n[f]).x-=u,i.y-=a}return null==e&&(e=0),null==t&&(t=0),f.initialize=function(e){n=e},f.x=function(t){return arguments.length?(e=+t,f):e},f.y=function(e){return arguments.length?(t=+e,f):t},f.strength=function(e){return arguments.length?(r=+e,f):r},f}(400,200)).force("collide",function(e){var t,n,r,f=1,i=1;function o(){for(var e,o,a,c,l,d,s,h=t.length,v=0;v<i;++v)for(o=S(t,J,K).visitAfter(u),e=0;e<h;++e)a=t[e],d=n[a.index],s=d*d,c=a.x+a.vx,l=a.y+a.vy,o.visit(y);function y(e,t,n,i,o){var u=e.data,h=e.r,v=d+h;if(!u)return t>c+v||i<c-v||n>l+v||o<l-v;if(u.index>a.index){var y=c-u.x-u.vx,b=l-u.y-u.vy,p=y*y+b*b;p<v*v&&(0===y&&(p+=(y=B(r))*y),0===b&&(p+=(b=B(r))*b),p=(v-(p=Math.sqrt(p)))/p*f,a.vx+=(y*=p)*(v=(h*=h)/(s+h)),a.vy+=(b*=p)*v,u.vx-=y*(v=1-v),u.vy-=b*v)}}}function u(e){if(e.data)return e.r=n[e.data.index];for(var t=e.r=0;t<4;++t)e[t]&&e[t].r>e.r&&(e.r=e[t].r)}function a(){if(t){var r,f,i=t.length;for(n=new Array(i),r=0;r<i;++r)f=t[r],n[f.index]=+e(f,r,t)}}return"function"!=typeof e&&(e=G(null==e?1:+e)),o.initialize=function(e,n){t=e,r=n,a()},o.iterations=function(e){return arguments.length?(i=+e,o):i},o.strength=function(e){return arguments.length?(f=+e,o):f},o.radius=function(t){return arguments.length?(e="function"==typeof t?t:G(+t),a(),o):e},o}(o)).force("x",function(e){var t,n,r,f=G(.1);function i(e){for(var f,i=0,o=t.length;i<o;++i)(f=t[i]).vx+=(r[i]-f.x)*n[i]*e}function o(){if(t){var i,o=t.length;for(n=new Array(o),r=new Array(o),i=0;i<o;++i)n[i]=isNaN(r[i]=+e(t[i],i,t))?0:+f(t[i],i,t)}}return"function"!=typeof e&&(e=G(null==e?0:+e)),i.initialize=function(e){t=e,o()},i.strength=function(e){return arguments.length?(f="function"==typeof e?e:G(+e),o(),i):f},i.x=function(t){return arguments.length?(e="function"==typeof t?t:G(+t),o(),i):e},i}()).force("y",function(e){var t,n,r,f=G(.1);function i(e){for(var f,i=0,o=t.length;i<o;++i)(f=t[i]).vy+=(r[i]-f.y)*n[i]*e}function o(){if(t){var i,o=t.length;for(n=new Array(o),r=new Array(o),i=0;i<o;++i)n[i]=isNaN(r[i]=+e(t[i],i,t))?0:+f(t[i],i,t)}}return"function"!=typeof e&&(e=G(null==e?0:+e)),i.initialize=function(e){t=e,o()},i.strength=function(e){return arguments.length?(f="function"==typeof e?e:G(+e),o(),i):f},i.y=function(t){return arguments.length?(e="function"==typeof t?t:G(+t),o(),i):e},i}()).stop(),c=Math.ceil(Math.log(a.alphaMin())/Math.log(1-a.alphaDecay()));for(let e=0;e<c;++e)postMessage({type:"force:tick",progress:e/c}),a.tick(1);postMessage({type:"force:end",payload:{nodes:e,links:t}})}}}]);